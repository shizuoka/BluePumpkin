<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Detail Event Page</title>
        <link rel="stylesheet" type="text/css" media="screen" href="css/styleTable.css" />        

        <link href="templatemo_style.css" rel="stylesheet" type="text/css" />
        <link href="css_pirobox/white/style.css" media="screen" title="shadow" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/piroBox.1_2.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $().piroBox({
                    my_speed: 600, //animation speed
                    bg_alpha: 0.5, //background opacity
                    radius: 4, //caption rounded corner
                    scrollImage : false, // true == image follows the page, false == image remains in the same open position
                    pirobox_next : 'piro_next', // Nav buttons -> piro_next == inside piroBox , piro_next_out == outside piroBox
                    pirobox_prev : 'piro_prev',// Nav buttons -> piro_prev == inside piroBox , piro_prev_out == outside piroBox
                    close_all : '.piro_close',// add class .piro_overlay(with comma)if you want overlay click close piroBox
                    slideShow : 'slideshow', // just delete slideshow between '' if you don't want it.
                    slideSpeed : 4 //slideshow duration in seconds(3 to 6 Recommended)
                });
            });
        </script>
    </h:head>
    <h:body>   
        <ui:composition template="shared/layout.xhtml">
            <ui:define name="content">
                <h:form>
                    <table width="650" border="1" id="detail_table">
                        <tr>
                            <td colspan="2"><div align="center">
                                    <h2 class="style1" style="color: cornflowerblue">Event Detail </h2>
                                </div></td>
                        </tr>
                        <tr>
                            <td> <div align="center">Event ID </div></td>
                            <td>#{eventBean.event.eventID}</td>
                        </tr>
                        <tr>
                            <td><div align="center">Event Name </div></td>
                            <td>#{eventBean.event.eventTitle}</td>
                        </tr>
                        <tr>
                            <td><div align="center">Description</div></td>
                            <td><textarea name="" rows="6" cols="35" disabled="true">
                                    #{eventBean.event.description}
                                </textarea></td>
                        </tr>              
                        <tr>
                            <td><div align="center">Start Event Date</div></td>
                            <td>
                                <h:outputText value="#{eventBean.event.startDate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText></td>
                        </tr>
                        <tr>
                            <td><div align="center">End Event Date</div></td>
                            <td><h:outputText value="#{eventBean.event.endDate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText></td>
                        </tr>
                        <tr>
                            <td><div align="center">Event Type</div></td>
                            <td>#{eventBean.event.eventTypeID.eventTypeName}</td>
                        </tr> 
                        <tr>
                            <td><div align="center">Status</div></td>
                            <td>#{eventBean.event.status}</td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <h:commandButton value="Register" action="#{registerBean.registerEvent(eventBean.event.eventID)}"
                                                 rendered="#{eventBean.event.status!='Ended'}"/>                            
                            </td>
                        </tr>
                    </table>
                </h:form>
                <c:if test="#{not empty requestScope.msg}">
                    <h:outputText value="#{requestScope.msg}" style="color: blue;text-align: center"/>
                </c:if>
                <br/>
                <h3>Comments</h3>
                <h:form>
                    <table id="table_comment">
                        <tr>
                            <td>Title</td>
                            <td>
                                <h:inputText value="#{employeeBean.comment.title}" />
                            </td>
                        </tr>
                        <tr>
                            <td>Content</td>
                            <td>
                                <h:inputTextarea value="#{employeeBean.comment.content}" />
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <h:commandButton value="Send" action="#{employeeBean.createComment(eventBean.event.eventID)}" 
                                                 disabled="#{loginBean.isLoggedEmployee==false}"/>
                            </td>
                        </tr>
                    </table>
                </h:form>

                <ul>
                    <c:forEach var="item" items="#{eventBean.getComments(eventBean.event.eventID)}">
                        <li>
                            <span>#{item.title}</span>
                            <span>#{item.content}</span>
                        </li>
                    </c:forEach>
                </ul>

                <br/>
                <a href="registerEvent.xhtml">Back to View All Event</a>
                <tt></tt>
            </ui:define>
        </ui:composition>        
    </h:body>
</html>
